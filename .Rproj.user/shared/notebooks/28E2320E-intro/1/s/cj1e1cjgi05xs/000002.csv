"0","library(MASS)"
"0","n <- 20"
"0","m <- 1000"
"0","c <- c(seq(-0.9, -0.1, 0.1), seq(0.1, 0.9, 0.1))"
"0","l <- length(c)"
"0","power.p <- numeric(l)"
"0","library(MASS)"
"0","set.seed(123)"
"0","for(i in 1:l)"
"0","{"
"0","  p.p <- replicate(m, expr = {"
"0","    x <- mvrnorm(n, c(0,1), matrix(c(1, c[i], c[i], 1), 2, 2))"
"0","     cortest <- cor.test(x[,1], x[,2], alternative = ""two.sided"", method = ""pearson"")"
"0","         cortest$p.value } )"
"0","  power.p[i] <- mean(  p.p <= 0.05 )"
"0","}"
"2","
"
